{% extends "!layout.html" %}

{%- block extrahead %}
{% if "lost" in pagename %}
<script type="text/javascript">
    window.onload = () => {
        const referrer = new URLSearchParams(window.location.search).get("referrer");
        const next = new URLSearchParams(window.location.search).get("next");
        links = [...document.getElementsByTagName("a")].filter((element) => element.innerText === "leave");
        if (referrer !== null && links.length) {
            links[0].href = `http://${referrer}${next}`;
            links[0].innerText = `have a look at an example endpoint "${next}"`
        } else {
            links[0].href = "/";
            links[0].innerText = "have a look at the docs"
        }
    }
</script>
{% endif %}
{% endblock %}